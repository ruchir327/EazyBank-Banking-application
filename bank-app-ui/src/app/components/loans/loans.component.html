<!-- <app-header></app-header>
<div class="site-section">
  <div class="table-responsive-md">
    <div class="row mb-4">
      <div class="col-md-7">
        <h3 class="heading-21921">Current Outstanding Balance</h3>
      </div>
    </div>
    <div class="row text-white align-items-center text-center h-100">
      <div class="col-md-4 bg-dark p-5 " style="height:130px;">
        <h1 class="text-white">{{currOutstandingBalance | currency}}</h1>
      </div>
    </div>
  </div>
  <div class="table-responsive-md">
    <div class="row mb-4">
      <div class="col-md-7">
        <h3 class="heading-21921">Loan Details</h3>
      </div>
    </div>
    <table class="table table-striped table-hover">
      <thead class="table-dark">
        <tr>
          <th scope="col">Start Date</th>
          <th scope="col">Type</th>
          <th scope="col">Total Loan</th>
          <th scope="col">Amount Paid</th>
          <th scope="col">Outstanding Amt</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let loan of loans">
          <th>{{loan.startDt}}</th>
          <td>{{loan.loanType}}</td>
          <td>{{loan.totalLoan | currency}}</td>
          <td>{{loan.amountPaid | currency}}</td>
          <td>{{loan.outstandingAmount | currency}}</td>
        </tr>
      </tbody>
    </table>
    </div>
    <div class="row mb-5">
      <div class="col">
        <div class="">
          <button class="btn btn-eazybank" routerLink="/dashboard">
            BACK
          </button>
        </div>
      </div>
    </div>
</div> -->



<app-header></app-header>

<!-- Loan Application Accordion -->
<div class="ui styled fluid accordion">
  <div class="title" (click)="toggleTab('loanApplication')" [class.active]="activeTab === 'loanApplication'">
    <i class="dropdown icon"></i>
    Loan Application
  </div>
  <div class="content" *ngIf="activeTab === 'loanApplication'">
      <div class="limiter">
        <div class="container-login100">
          <div class="wrap-login100">
            <div class="card shadow">
              <div class="card-body">
                <form (ngSubmit)="onSubmit()" #loanApplicationForm="ngForm"
                class="login100-form validate-form p-l-55 p-r-55 p-t-140">
            <span class="login100-form-title">
              Loan Application
            </span>
          
            <!-- Account Number Field -->
            <div class="form-group">
              <label for="accountNumber">Account Number:</label>
              <div class="wrap-input100 validate-input m-b-16" data-validate="Please enter Account Number">
                <input class="input100" type="number" name="accountNumber" id="accountNumber"
                       placeholder="Account Number" required [(ngModel)]="loanApplication.accountNumber"
                       #accountNumber="ngModel">
                <span class="focus-input100"></span>
              </div>
              <span class="text-danger"
                    *ngIf="(accountNumber.touched || loanApplicationForm.submitted) && accountNumber.errors?.['required']">Error:
                Account Number is required!</span>
            </div>
          
            <!-- First Name Field -->
            <div class="form-group">
              <label for="firstName">First Name:</label>
              <div class="wrap-input100 validate-input m-b-16" data-validate="Please enter First Name">
                <input class="input100" type="text" name="firstName" id="firstName" placeholder="First Name"
                       required [(ngModel)]="loanApplication.firstName" #firstName="ngModel">
                <span class="focus-input100"></span>
              </div>
              <span class="text-danger"
                    *ngIf="(firstName.touched || loanApplicationForm.submitted) && firstName.errors?.['required']">Error:
                First Name is required!</span>
            </div>
          
            <!-- Last Name Field -->
            <div class="form-group">
              <label for="lastName">Last Name:</label>
              <div class="wrap-input100 validate-input m-b-16" data-validate="Please enter Last Name">
                <input class="input100" type="text" name="lastName" id="lastName" placeholder="Last Name"
                       required [(ngModel)]="loanApplication.lastName" #lastName="ngModel">
                <span class="focus-input100"></span>
              </div>
              <span class="text-danger"
                    *ngIf="(lastName.touched || loanApplicationForm.submitted) && lastName.errors?.['required']">Error:
                Last Name is required!</span>
            </div>
          
            <!-- Date of Birth Field -->
            <div class="form-group">
              <label for="dateOfBirth">Date of Birth:</label>
              <div class="wrap-input100 validate-input m-b-16" data-validate="Please enter Date of Birth">
                <input class="input100" type="date" name="dateOfBirth" id="dateOfBirth"
                       placeholder="Date of Birth" required [(ngModel)]="loanApplication.dateOfBirth"
                       #dateOfBirth="ngModel">
                <span class="focus-input100"></span>
              </div>
              <span class="text-danger"
                    *ngIf="(dateOfBirth.touched || loanApplicationForm.submitted) && dateOfBirth.errors?.['required']">Error:
                Date of Birth is required!</span>
            </div>
          
            <!-- Address Field -->
            <div class="form-group">
              <label for="address">Address:</label>
              <div class="wrap-input100 validate-input m-b-16" data-validate="Please enter Address">
                <input class="input100" type="text" name="address" id="address" placeholder="Address"
                       required [(ngModel)]="loanApplication.address" #address="ngModel">
                <span class="focus-input100"></span>
              </div>
              <span class="text-danger"
                    *ngIf="(address.touched || loanApplicationForm.submitted) && address.errors?.['required']">Error:
                Address is required!</span>
            </div>
          
            <!-- City Field -->
            <div class="form-group">
              <label for="city">City:</label>
              <div class="wrap-input100 validate-input m-b-16" data-validate="Please enter City">
                <input class="input100" type="text" name="city" id="city" placeholder="City"
                       required [(ngModel)]="loanApplication.city" #city="ngModel">
                <span class="focus-input100"></span>
              </div>
              <span class="text-danger"
                    *ngIf="(city.touched || loanApplicationForm.submitted) && city.errors?.['required']">Error:
                City is required!</span>
            </div>
          
            <!-- State Field -->
            <div class="form-group">
              <label for="state">State:</label>
              <div class="wrap-input100 validate-input m-b-16" data-validate="Please enter State">
                <input class="input100" type="text" name="state" id="state" placeholder="State"
                       required [(ngModel)]="loanApplication.state" #state="ngModel">
                <span class="focus-input100"></span>
              </div>
              <span class="text-danger"
                    *ngIf="(state.touched || loanApplicationForm.submitted) && state.errors?.['required']">Error:
                State is required!</span>
            </div>
          
            <!-- Postal Code Field -->
            <div class="form-group">
              <label for="postalCode">Postal Code:</label>
              <div class="wrap-input100 validate-input m-b-16" data-validate="Please enter Postal Code">
                <input class="input100" type="text" name="postalCode" id="postalCode" placeholder="Postal Code"
                       required [(ngModel)]="loanApplication.postalCode" #postalCode="ngModel">
                <span class="focus-input100"></span>
              </div>
              <span class="text-danger"
                    *ngIf="(postalCode.touched || loanApplicationForm.submitted) && postalCode.errors?.['required']">Error:
                Postal Code is required!</span>
            </div>
          
            <!-- Loan Type Field -->
            <div class="form-group">
              <label for="loanType">Loan Type:</label>
              <div class="wrap-input100 validate-input m-b-16" data-validate="Please enter Loan Type">
                <input class="input100" type="text" name="loanType" id="loanType" placeholder="Loan Type"
                       required [(ngModel)]="loanApplication.loanType" #loanType="ngModel">
                <span class="focus-input100"></span>
              </div>
              <span class="text-danger"
                    *ngIf="(loanType.touched || loanApplicationForm.submitted) && loanType.errors?.['required']">Error:
                Loan Type is required!</span>
            </div>
          
            <!-- Total Loan Field -->
            <div class="form-group">
              <label for="totalLoan">Total Loan:</label>
              <div class="wrap-input100 validate-input m-b-16" data-validate="Please enter Total Loan">
                <input class="input100" type="number" name="totalLoan" id="totalLoan" placeholder="Total Loan"
                       required [(ngModel)]="loanApplication.totalLoan" #totalLoan="ngModel">
                <span class="focus-input100"></span>
              </div>
              <span class="text-danger"
                    *ngIf="(totalLoan.touched || loanApplicationForm.submitted) && totalLoan.errors?.['required']">Error:
                Total Loan is required!</span>
            </div>
          
            <!-- Add more fields here if needed -->
          
            <!-- Submit Button -->
            <div class="container-login100-form-btn">
              <button class="login100-form-btn" type="submit">Submit Application</button>
            </div>
          
            <!-- Error and Success Messages -->
            <span class="text-danger" *ngIf="errorMessage">{{ errorMessage }}</span>
            <span class="text-success" *ngIf="successMessage">{{ successMessage }}</span>
          
          </form>
          
              </div>
            </div>
          </div>
        </div>
    </div>
    
  </div>
</div>

<!-- View Loan Details Accordion -->
<div class="ui styled fluid accordion">
  <div class="title" (click)="toggleTab('viewLoanDetails')" [class.active]="activeTab === 'viewLoanDetails'">
    <i class="dropdown icon"></i>
    View Loan Details
  </div>
  <div class="content" *ngIf="activeTab === 'viewLoanDetails'">
    <div class="site-section">
      <div class="table-responsive-md">
        <div class="row mb-4">
          <div class="col-md-7">
            <h3 class="heading-21921">Current Outstanding Balance</h3>
          </div>
        </div>
        <div class="row text-white align-items-center text-center h-100">
          <div class="col-md-4 bg-dark p-5" style="height: 130px;">
            <h1 class="text-white">{{currOutstandingBalance | currency}}</h1>
          </div>
        </div>
      </div>
      <div class="table-responsive-md">
        <div class="row mb-4">
          <div class="col-md-7">
            <h3 class="heading-21921">Loan Details</h3>
          </div>
        </div>
        <table class="table table-striped table-hover">
          <thead class="table-dark">
            <tr>
              <th scope="col">Start Date</th>
              <th scope="col">Type</th>
              <th scope="col">Total Loan</th>
              <th scope="col">Amount Paid</th>
              <th scope="col">Outstanding Amt</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let loan of loans">
              <th>{{loan.startDt}}</th>
              <td>{{loan.loanType}}</td>
              <td>{{loan.totalLoan | currency}}</td>
              <td>{{loan.amountPaid | currency}}</td>
              <td>{{loan.outstandingAmount | currency}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- Back Button -->
<div class="row mb-5 mt-5">
  <div class="col">
    <div class="">
      <button class="btn btns" routerLink="/dashboard">
        BACK
      </button>
    </div>
  </div>
</div>